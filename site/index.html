<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FrenzyNets | Watch Party</title>
  <meta name="description" content="FrenzyNets Watch Party platform with rooms, major-night hosting, admin controls, and desktop panel downloads." />
  <style>
    :root {
      --bg:#070f1f;
      --bg2:#0c1730;
      --panel:#121f3a;
      --line:#294878;
      --text:#ecf3ff;
      --muted:#9ab2d8;
      --accent:#36d6ff;
      --accent2:#00b9f2;
      --ok:#76f2bb;
      --warn:#ffd166;
    }
    * { box-sizing:border-box; }
    body {
      margin:0;
      font-family:"Segoe UI",Tahoma,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(circle at 12% 12%, rgba(54,214,255,.22), transparent 35%),
        radial-gradient(circle at 88% 8%, rgba(90,130,255,.18), transparent 32%),
        linear-gradient(155deg, var(--bg), var(--bg2));
      min-height:100vh;
    }
    .shell { width:min(1180px, calc(100% - 24px)); margin:14px auto 28px; }
    .top {
      border:1px solid var(--line);
      border-radius:14px;
      background:rgba(10,20,38,.82);
      padding:12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .brand { font-size:1.15rem; font-weight:800; letter-spacing:.04em; }
    .nav { display:flex; gap:8px; flex-wrap:wrap; }
    .btn {
      display:inline-block;
      border:1px solid #4e78ad;
      border-radius:10px;
      padding:10px 13px;
      text-decoration:none;
      font-weight:700;
      color:#051322;
      background:linear-gradient(135deg, var(--accent), var(--accent2));
    }
    .btn.alt {
      color:var(--text);
      background:linear-gradient(140deg, #16305a, #173258);
      border-color:#3c5f8f;
    }
    .hero {
      margin-top:12px;
      border:1px solid var(--line);
      border-radius:16px;
      background:linear-gradient(145deg, rgba(18,31,58,.95), rgba(10,19,38,.95));
      padding:18px;
    }
    h1 { margin:0 0 8px; font-size:clamp(1.55rem, 4vw, 2.4rem); }
    p { margin:0 0 10px; color:var(--muted); }
    .grid { display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:10px; margin-top:10px; }
    .card {
      border:1px solid var(--line);
      border-radius:12px;
      background:linear-gradient(150deg, rgba(19,35,63,.96), rgba(11,21,41,.95));
      padding:12px;
    }
    .card h3 { margin:0 0 8px; font-size:1rem; }
    .card p { margin:0 0 10px; font-size:.95rem; }
    .row { display:flex; gap:8px; flex-wrap:wrap; }
    .rooms { display:grid; grid-template-columns:repeat(5,minmax(0,1fr)); gap:8px; margin-top:8px; }
    .room {
      border:1px solid #4c70a5;
      border-radius:10px;
      background:linear-gradient(150deg, rgba(23,39,68,.95), rgba(13,24,45,.95));
      color:var(--text);
      text-decoration:none;
      padding:10px;
      font-weight:700;
      font-size:.9rem;
    }
    .meta { color:var(--ok); font-size:.82rem; margin-top:4px; }
    .verify {
      margin-top:12px;
      border:1px solid var(--line);
      border-radius:12px;
      background:rgba(11,21,41,.92);
      padding:12px;
    }
    pre {
      margin:8px 0;
      border:1px solid #365782;
      border-radius:10px;
      background:#0a172f;
      color:#d9e8ff;
      padding:10px;
      overflow:auto;
      font-size:.9rem;
    }
    .tag { display:inline-block; border:1px solid #41689a; border-radius:999px; padding:4px 8px; font-size:.78rem; color:#c7ddff; }
    @media (max-width: 980px) {
      .grid { grid-template-columns:1fr; }
      .rooms { grid-template-columns:repeat(2,minmax(0,1fr)); }
    }
    @media (max-width: 640px) {
      .shell { width:calc(100% - 16px); }
      .rooms { grid-template-columns:1fr; }
      .btn { width:100%; text-align:center; }
      .row .btn { width:auto; }
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="top">
      <div class="brand">FrenzyNets Watch Party</div>
      <div class="nav">
        <a class="btn" href="/telewatch/">Watch Party</a>
        <a class="btn alt" href="/telewatch/admin/">Admin Panel</a>
        <a class="btn alt" href="/frenzynet-updates/">Desktop Downloads</a>
        <a class="btn alt" href="https://discord.gg/4uRUSAN498" target="_blank" rel="noopener">Discord</a>
      </div>
    </div>

    <section class="hero">
      <span class="tag">Watch Party Only</span>
      <h1>Host Major Movie Nights From One Place</h1>
      <p>No VPN content on this page. FrenzyNets is now focused on Watch Party hosting, room controls, admin tools, and desktop panel downloads.</p>
      <div class="row">
        <a class="btn" href="/telewatch/">Open Watch Party</a>
        <a class="btn alt" href="/telewatch/?admin=1">Main Event Mode</a>
        <a class="btn alt" href="/telewatch/admin/">Room Moderation</a>
      </div>
    </section>

    <section class="grid">
      <article class="card">
        <h3>Join By Room Code</h3>
        <p>Enter a room code and jump directly into a watch room.</p>
        <div class="row">
          <input id="roomCode" type="text" placeholder="Room code" maxlength="12" style="flex:1;min-width:160px;border:1px solid #3d5f90;background:#0a1830;color:#ecf3ff;border-radius:10px;padding:10px;" />
          <a id="joinBtn" class="btn" href="/telewatch/">Join Room</a>
        </div>
      </article>

      <article class="card">
        <h3>Desktop App (All PC Types)</h3>
        <p>Watch Party desktop panel downloads for x64, x86, and ARM64.</p>
        <div class="row">
          <a class="btn alt" href="/frenzynet-updates/FrenzyWatchPartyPanel-win-x64.zip">x64</a>
          <a class="btn alt" href="/frenzynet-updates/FrenzyWatchPartyPanel-win-x86.zip">x86</a>
          <a class="btn alt" href="/frenzynet-updates/FrenzyWatchPartyPanel-win-arm64.zip">ARM64</a>
        </div>
      </article>

      <article class="card">
        <h3>Admin / Owner Tools</h3>
        <p>Moderate rooms, run main event nights, and manage live sessions.</p>
        <div class="row">
          <a class="btn alt" href="/telewatch/admin/">Open Admin</a>
          <a class="btn alt" href="/telewatch/?admin=1">Main Event Controls</a>
          <a class="btn alt" href="/frenzynet-updates/">Updates Panel</a>
        </div>
      </article>
    </section>

    <section class="card" style="margin-top:10px">
      <h3>Open Rooms</h3>
      <p>Quick room links for active public watch party rooms.</p>
      <div id="rooms" class="rooms"></div>
    </section>

    <section class="verify">
      <h3 style="margin:0 0 6px">Verify Desktop Download</h3>
      <pre>Get-FileHash .\FrenzyWatchPartyPanel-win-x64.zip -Algorithm SHA256
# Compare with /frenzynet-updates/FrenzyWatchPartyPanel-win-x64.zip.sha256</pre>
      <div class="row">
        <a class="btn alt" href="/frenzynet-updates/FrenzyWatchPartyPanel-win-x64.zip.sha256">x64 SHA256</a>
        <a class="btn alt" href="/frenzynet-updates/FrenzyWatchPartyPanel-win-x86.zip.sha256">x86 SHA256</a>
        <a class="btn alt" href="/frenzynet-updates/FrenzyWatchPartyPanel-win-arm64.zip.sha256">ARM64 SHA256</a>
      </div>
    </section>
  </div>

  <script>
    (function() {
      const input = document.getElementById('roomCode');
      const joinBtn = document.getElementById('joinBtn');
      const roomsEl = document.getElementById('rooms');

      function cleanCode(v) {
        return String(v || '').toUpperCase().replace(/[^A-Z0-9]/g, '').slice(0, 12);
      }

      function syncJoin() {
        const code = cleanCode(input.value);
        input.value = code;
        joinBtn.href = code ? `/telewatch/?room=${encodeURIComponent(code)}` : '/telewatch/';
      }

      input.addEventListener('input', syncJoin);
      syncJoin();

      const fallback = Array.from({ length: 10 }, (_, i) => {
        const code = `WATCH${String(i + 1).padStart(2, '0')}`;
        return { roomCode: code, title: `Public Room ${String(i + 1).padStart(2, '0')}`, activeCount: 0, isLive: false, joinUrl: `/telewatch/?room=${code}` };
      });

      function draw(rooms) {
        roomsEl.innerHTML = (rooms || []).slice(0, 10).map((r) => {
          const code = String(r.roomCode || '').toUpperCase();
          const viewers = Number(r.activeCount || 0);
          const state = r.isLive ? `LIVE Â· ${viewers} watching` : 'Open';
          const href = r.joinUrl || `/telewatch/?room=${encodeURIComponent(code)}`;
          return `<a class="room" href="${href}">${code}<div class="meta">${state}</div></a>`;
        }).join('');
      }

      draw(fallback);

      fetch('https://api.frenzynets.com/api/telewatch/public-rooms', { cache: 'no-store' })
        .then((r) => r.ok ? r.json() : null)
        .then((j) => {
          if (j && Array.isArray(j.rooms) && j.rooms.length) draw(j.rooms);
        })
        .catch(() => {});
    })();
  </script>
</body>
</html>
