<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FrenzyNets | Performance VPN</title>
  <meta name="description" content="FrenzyNets Performance VPN for competitive gaming. Fast routes, self-healing, one-click setup, and direct Discord support." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700;800&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg0:#0b0616; --bg1:#140b29; --bg2:#1f1140;
      --panel:#1a1030cc; --line:#5a3f9d; --line-soft:#3e2d70;
      --text:#f1e9ff; --muted:#b9a7e0; --brand:#bf7cff; --brand2:#7d4dff;
      --good:#8cffc2; --warn:#ffd166; --danger:#ff6f9d;
      --radius:16px; --shadow:0 24px 44px rgba(0,0,0,.42);
    }
    * { box-sizing:border-box }
    html, body { margin:0; padding:0 }
    body {
      font-family:'Rajdhani',sans-serif;
      color:var(--text);
      min-height:100vh;
      overflow-x:hidden;
      background:
        radial-gradient(circle at 12% 22%,rgba(191,124,255,.24),transparent 34%),
        radial-gradient(circle at 90% 12%,rgba(125,77,255,.26),transparent 40%),
        linear-gradient(160deg,var(--bg0),var(--bg1) 46%,var(--bg2));
    }

    .bgfx { position:fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden; }
    .orb {
      position:absolute; border-radius:50%; filter:blur(2px);
      animation: drift 16s ease-in-out infinite;
      opacity:.35;
    }
    .orb.a { width:320px; height:320px; left:-90px; top:120px; background:radial-gradient(circle, #bf7cff 0%, transparent 70%); }
    .orb.b { width:420px; height:420px; right:-120px; top:45px; background:radial-gradient(circle, #7d4dff 0%, transparent 70%); animation-delay:-6s; }
    .orb.c { width:290px; height:290px; right:25%; bottom:-70px; background:radial-gradient(circle, #ff6f9d 0%, transparent 75%); animation-delay:-9s; }

    .scan {
      position:absolute; inset:-40% -40%;
      background: repeating-linear-gradient(90deg, rgba(191,124,255,.08) 0 1px, transparent 1px 44px);
      animation: sweep 11s linear infinite;
      opacity:.23;
    }
    .glass {
      position:absolute; inset:0;
      pointer-events:none;
      background:
        linear-gradient(112deg, rgba(255,255,255,.26) 0%, rgba(255,255,255,0) 24%, rgba(255,255,255,.18) 35%, rgba(255,255,255,0) 49%),
        linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,0) 28%),
        repeating-linear-gradient(92deg, rgba(255,255,255,.05) 0 1px, transparent 1px 64px);
      mix-blend-mode: screen;
      opacity:.62;
      border-top:1px solid rgba(255,255,255,.30);
      border-bottom:1px solid rgba(170,120,255,.30);
      box-shadow:
        inset 0 1px 24px rgba(255,255,255,.16),
        inset 0 -10px 34px rgba(10,6,20,.42),
        inset 0 0 0 2px rgba(214,181,255,.14),
        inset 0 0 120px rgba(255,255,255,.08);
      backdrop-filter: blur(1.6px) saturate(1.2);
      -webkit-backdrop-filter: blur(1.6px) saturate(1.2);
      animation: glassShimmer 9s ease-in-out infinite;
    }
    .glass::before {
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(circle at 15% 22%, rgba(255,255,255,.14) 0 2px, transparent 3px),
        radial-gradient(circle at 27% 60%, rgba(255,255,255,.09) 0 1.5px, transparent 3px),
        radial-gradient(circle at 67% 34%, rgba(255,255,255,.09) 0 1.5px, transparent 3px),
        radial-gradient(circle at 82% 72%, rgba(255,255,255,.10) 0 2px, transparent 3px);
      background-size:100% 100%;
      opacity:.5;
      filter:blur(.1px);
    }
    .glass::after {
      content:"";
      position:absolute; left:-28%; top:-42%;
      width:56%; height:190%;
      transform:rotate(14deg);
      background:linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.16), rgba(255,255,255,0));
      animation: glarePass 12s linear infinite;
      opacity:.62;
    }
    .glass-rain {
      position:absolute; inset:-8% 0 -8% 0;
      pointer-events:none;
      background:
        linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,0) 28%, rgba(255,255,255,.05) 58%, rgba(255,255,255,0)),
        repeating-linear-gradient(
          96deg,
          rgba(255,255,255,.12) 0 1px,
          rgba(255,255,255,0) 1px 22px
        );
      opacity:.18;
      filter:blur(.35px);
      transform:translateX(0);
      animation: rainShift 10s linear infinite;
    }
    .glass-frame {
      position:absolute; inset:0;
      pointer-events:none;
      border:2px solid rgba(188,142,255,.22);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,.10),
        inset 0 0 42px rgba(169,120,255,.20),
        inset 0 0 120px rgba(0,0,0,.38);
    }
    .glass-frame::before, .glass-frame::after {
      content:"";
      position:absolute; top:0; bottom:0; width:2px;
      background:linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.02));
      opacity:.5;
    }
    .glass-frame::before { left:33.33%; }
    .glass-frame::after { left:66.66%; }
    .glass-vignette {
      position:absolute; inset:0;
      pointer-events:none;
      background:radial-gradient(circle at center, rgba(255,255,255,0) 52%, rgba(12,7,24,.44) 100%);
    }
    .server-room {
      position:absolute; inset:0;
      display:flex; align-items:flex-end; justify-content:center; gap:1.4vw;
      padding:0 3vw 3.8vh;
      perspective:1100px;
      opacity:.46;
    }
    .server-room::before {
      content:"";
      position:absolute; left:0; right:0; bottom:0; height:42%;
      background:
        linear-gradient(to top, rgba(3,3,9,.72), rgba(3,3,9,0)),
        repeating-linear-gradient(90deg, rgba(168,123,255,.07) 0 2px, transparent 2px 54px);
      transform:translateZ(0);
    }
    .rack {
      position:relative;
      width:min(11vw,124px); height:min(44vh,360px);
      border:1px solid rgba(145,96,255,.45);
      border-bottom-color:rgba(255,111,157,.35);
      border-radius:7px 7px 4px 4px;
      background:linear-gradient(180deg, rgba(21,15,35,.9), rgba(10,8,20,.93));
      box-shadow:
        0 0 22px rgba(125,77,255,.20),
        inset 0 0 0 1px rgba(240,224,255,.04);
      transform:rotateX(7deg);
      overflow:hidden;
      animation:rackFlicker 6s ease-in-out infinite;
    }
    .rack::before {
      content:"";
      position:absolute; inset:8px 8px 8px 8px;
      background:repeating-linear-gradient(
        to bottom,
        rgba(230,216,255,.08) 0 2px,
        rgba(16,11,28,.2) 2px 20px
      );
      border-radius:4px;
    }
    .rack::after {
      content:"";
      position:absolute; inset:0;
      background:linear-gradient(120deg, transparent 0 40%, rgba(205,178,255,.08) 50%, transparent 62% 100%);
      animation:dataSweep 4.4s linear infinite;
    }
    .rack .leds {
      position:absolute; right:11px; top:18px;
      width:8px; height:calc(100% - 34px);
      background:
        radial-gradient(circle at 50% 7px, rgba(140,255,195,.95) 0 2px, transparent 3px),
        radial-gradient(circle at 50% 26px, rgba(255,111,157,.9) 0 2px, transparent 3px),
        radial-gradient(circle at 50% 45px, rgba(191,124,255,.95) 0 2px, transparent 3px);
      background-size:8px 58px;
      animation:ledBlink 1.3s steps(2,end) infinite;
      opacity:.9;
    }
    .beam {
      position:absolute; bottom:0;
      width:2px; height:52%;
      background:linear-gradient(to top, rgba(191,124,255,.55), rgba(140,255,195,.05));
      filter:blur(.2px);
      animation:beamRun 5.5s linear infinite;
      opacity:.6;
    }
    .beam.b1 { left:18%; animation-delay:-1.2s; }
    .beam.b2 { left:36%; animation-delay:-2.6s; }
    .beam.b3 { left:52%; animation-delay:-.6s; }
    .beam.b4 { left:73%; animation-delay:-3.2s; }
    .beam.b5 { left:87%; animation-delay:-4.4s; }

    .shell { position:relative; z-index:2; width:min(1200px, calc(100% - 32px)); margin:20px auto 28px; }

    .topbar {
      display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
      border:1px solid var(--line-soft);
      background:rgba(5,11,24,.72);
      border-radius:12px;
      padding:10px 14px;
      backdrop-filter:blur(8px);
    }
    .brand { display:flex; align-items:center; gap:12px; min-width:260px; }
    .brand img {
      width:220px; max-width:48vw; height:auto;
      filter: hue-rotate(28deg) saturate(1.2) drop-shadow(0 0 20px rgba(191,124,255,.45));
      animation: pulseLogo 3s ease-in-out infinite;
    }
    .top-links { display:flex; gap:10px; flex-wrap:wrap; }
    .link-btn {
      border:1px solid var(--line); color:var(--text); text-decoration:none;
      padding:8px 12px; border-radius:10px; background:rgba(27,16,47,.86);
      font-weight:700; transition:.2s;
    }
    .link-btn:hover { border-color:var(--brand); color:var(--brand); transform:translateY(-1px); }

    .hero {
      margin-top:16px;
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:linear-gradient(138deg, rgba(28,16,53,.95), rgba(14,8,28,.94));
      box-shadow:var(--shadow);
      overflow:hidden;
      position:relative;
      isolation:isolate;
    }
    .hero::after {
      content:"";
      position:absolute; inset:0;
      background:radial-gradient(circle at 80% 35%, rgba(191,124,255,.22), transparent 40%);
      pointer-events:none;
      z-index:0;
    }
    .hero-grid { position:relative; z-index:1; display:grid; grid-template-columns:1.25fr .85fr; gap:20px; padding:30px; }
    h1 {
      margin:0;
      font-family:'Orbitron',sans-serif;
      font-size:clamp(1.7rem,4.4vw,3.1rem);
      line-height:1.04;
      letter-spacing:.02em;
      text-transform:uppercase;
      animation: rise .8s ease-out both;
    }
    .sub {
      margin-top:12px; color:var(--muted);
      font-size:clamp(1rem,2.2vw,1.2rem);
      max-width:660px;
      animation: rise .95s ease-out both;
    }
    .cta-row { display:flex; gap:10px; flex-wrap:wrap; margin-top:18px; animation: rise 1.05s ease-out both; }
    .btn {
      display:inline-flex; align-items:center; justify-content:center;
      text-decoration:none; font-weight:700; letter-spacing:.02em;
      border-radius:10px; padding:10px 14px; border:1px solid transparent; transition:.2s;
    }
    .btn-primary {
      background:linear-gradient(180deg,var(--brand),var(--brand2)); color:#04101a;
      box-shadow:0 10px 24px rgba(55,217,255,.30);
    }
    .btn-primary:hover { transform:translateY(-1px) scale(1.01); }
    .btn-secondary { background:rgba(8,18,35,.85); border-color:var(--line); color:var(--text); }
    .btn-secondary:hover { border-color:var(--brand); color:var(--brand); }
    .watch-join {
      margin-top:12px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
    }
    .watch-input {
      flex:1 1 220px;
      min-width:170px;
      border:1px solid var(--line);
      border-radius:10px;
      background:rgba(8,18,35,.88);
      color:var(--text);
      padding:10px 12px;
      font:inherit;
      font-weight:700;
      letter-spacing:.04em;
      text-transform:uppercase;
    }
    .watch-input::placeholder { color:var(--muted); letter-spacing:.02em; text-transform:none; }
    .party-grid {
      margin-top:10px;
      display:grid;
      grid-template-columns:repeat(5,minmax(0,1fr));
      gap:10px;
    }
    .party-btn {
      display:flex;
      flex-direction:column;
      gap:6px;
      border:1px solid #6a47b8;
      border-radius:12px;
      text-decoration:none;
      background:linear-gradient(150deg, rgba(34,17,59,.95), rgba(14,9,30,.94));
      color:var(--text);
      padding:10px;
      transition:.2s;
    }
    .party-btn:hover { border-color:var(--brand); transform:translateY(-1px); box-shadow:0 10px 24px rgba(125,77,255,.35); }
    .party-code { font-family:'Orbitron',sans-serif; font-size:.95rem; letter-spacing:.06em; }
    .party-meta { font-size:.82rem; color:var(--muted); }
    .party-live { color:var(--good); font-weight:700; }
    .party-open { color:#c4b3e7; font-weight:700; }

    .chip-row { display:flex; gap:8px; flex-wrap:wrap; margin-top:14px; animation: rise 1.1s ease-out both; }
    .chip {
      border:1px solid #5d3ca3; background:#1b1031;
      color:#e3d0ff; border-radius:999px; padding:6px 10px;
      font-size:.95rem; font-weight:700;
    }

    .status-card { border:1px solid var(--line-soft); border-radius:12px; padding:14px; background:rgba(18,10,34,.86); }
    .heartbeat { display:flex; align-items:center; gap:8px; margin-bottom:8px; }
    .heartbeat-wrap { margin-bottom:8px; }
    .hb-dot { width:10px; height:10px; border-radius:50%; background:#a59bc2; box-shadow:0 0 0 0 rgba(165,155,194,.0); }
    .hb-dot.online { background:#8cffc2; animation: hbPulse 1.8s infinite; box-shadow:0 0 0 0 rgba(140,255,194,.45); }
    .hb-dot.warn { background:#ffd166; animation: hbPulseWarn 1.8s infinite; box-shadow:0 0 0 0 rgba(255,209,102,.4); }
    .hb-dot.offline { background:#ff6f9d; box-shadow:0 0 12px rgba(255,111,157,.35); }
    .hb-text { font-size:.86rem; color:var(--muted); text-transform:uppercase; letter-spacing:.04em; font-weight:700; }
    .hb-last { font-size:.78rem; color:var(--muted); margin-left:18px; margin-top:2px; }
    .k { font-size:.88rem; color:var(--muted); margin-bottom:4px; text-transform:uppercase; letter-spacing:.05em; }
    .v { font-size:1.15rem; font-weight:700; }
    .ok { color:var(--good) } .warn { color:var(--warn) }

    .grid { margin-top:16px; display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px; }
    .panel {
      border:1px solid var(--line-soft); border-radius:12px;
      background:rgba(20,12,38,.86); padding:14px; transition:.2s;
    }
    .panel:hover { border-color:#7f5ad0; transform:translateY(-2px); }
    .panel h3 { margin:0 0 8px; font-family:'Orbitron',sans-serif; font-size:.96rem; letter-spacing:.04em; text-transform:uppercase; color:#e5d7ff; }
    .panel p { margin:0; color:var(--muted); line-height:1.45; }
    .game-zone {
      margin-top:16px;
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:linear-gradient(135deg, rgba(24,12,42,.95), rgba(16,9,31,.92));
      padding:16px;
    }
    .game-zone h2 {
      margin:0 0 10px;
      font-family:'Orbitron',sans-serif;
      font-size:1.2rem;
      letter-spacing:.06em;
      text-transform:uppercase;
      color:#cfa3ff;
    }
    .game-grid { display:grid; grid-template-columns:repeat(4,minmax(0,1fr)); gap:10px; }
    .game-card {
      border:1px solid #5a409b;
      background:linear-gradient(160deg, rgba(26,14,49,.92), rgba(17,10,33,.92));
      border-radius:12px;
      padding:12px;
      position:relative;
      overflow:hidden;
    }
    .game-card::after {
      content:\"\"; position:absolute; right:-28px; top:-28px; width:72px; height:72px; border-radius:50%;
      background:radial-gradient(circle, rgba(191,124,255,.28), transparent 70%);
      pointer-events:none;
    }
    .upsell-grid { display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:10px; }
    .upsell-card {
      position:relative;
      border:1px solid #6d4db8;
      border-radius:12px;
      padding:12px;
      background:linear-gradient(155deg, rgba(31,17,56,.94), rgba(17,10,33,.94));
      overflow:hidden;
    }
    .upsell-card h4 { margin:0 0 6px; color:#f0e2ff; font-size:1.02rem; }
    .upsell-card p { margin:0; color:#c9b5e7; font-size:.95rem; line-height:1.35; }
    .upsell-price { margin-top:8px; font-weight:800; color:#8cffc2; font-size:1.05rem; }
    .upsell-meta { margin-top:6px; color:#d3c3ef; font-size:.85rem; }
    .ribbon {
      position:absolute; top:8px; right:-28px;
      transform:rotate(34deg);
      background:#bf7cff; color:#1a0c2a;
      font-size:.72rem; font-weight:800;
      padding:3px 30px;
      box-shadow:0 4px 10px rgba(0,0,0,.22);
    }
    .addon-wall { margin-top:10px; display:grid; grid-template-columns:repeat(4,minmax(0,1fr)); gap:10px; }
    .addon-chip {
      border:1px solid #5f44a8; border-radius:10px; padding:10px;
      background:rgba(23,13,41,.9);
    }
    .addon-chip h5 { margin:0 0 4px; color:#eddcff; font-size:.94rem; }
    .addon-chip p { margin:0; color:#c6b2e4; font-size:.88rem; line-height:1.3; }
    .addon-chip .m { margin-top:6px; color:#8cffc2; font-weight:700; font-size:.9rem; }
    .stack-grid { margin-top:10px; display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:10px; }
    .stack-card {
      border:1px solid #6a49b8; border-radius:12px; padding:12px;
      background:linear-gradient(160deg, rgba(33,19,58,.95), rgba(17,10,33,.94));
      position:relative;
    }
    .stack-card h4 { margin:0 0 6px; color:#f2e5ff; font-size:1.02rem; }
    .stack-card p { margin:0; color:#ccb8e8; font-size:.92rem; line-height:1.35; }
    .stack-list { margin-top:8px; color:#ddcbf4; font-size:.88rem; line-height:1.35; }
    .stack-price { margin-top:8px; color:#8cffc2; font-size:1.06rem; font-weight:800; }
    .stack-badge {
      position:absolute; top:9px; right:10px;
      padding:3px 8px; border-radius:999px;
      border:1px solid #8c63db; background:#21133d; color:#f0e1ff;
      font-size:.72rem; font-weight:800; letter-spacing:.04em;
    }
    .countdown-zone {
      margin-top:16px;
      border:1px solid #7a56cb;
      border-radius:16px;
      background:linear-gradient(145deg, rgba(45,24,78,.95), rgba(21,11,41,.95));
      padding:14px;
      box-shadow:0 14px 30px rgba(0,0,0,.28);
    }
    .countdown-head {
      display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;
      margin-bottom:8px;
    }
    .countdown-badge {
      border:1px solid #b989ff;
      background:#2a1648;
      color:#f5e9ff;
      border-radius:999px;
      padding:4px 10px;
      font-size:.78rem; font-weight:800; letter-spacing:.05em;
      text-transform:uppercase;
    }
    .countdown-timer {
      display:grid; grid-template-columns:repeat(4,minmax(0,1fr)); gap:8px;
      margin-top:10px;
    }
    .countdown-cell {
      border:1px solid #6f4fb8;
      border-radius:10px;
      background:rgba(26,14,47,.92);
      padding:8px;
      text-align:center;
    }
    .countdown-cell .n { font-size:1.22rem; font-weight:800; color:#8cffc2; }
    .countdown-cell .k { font-size:.72rem; color:#d5c4ef; text-transform:uppercase; letter-spacing:.05em; }
    .countdown-msg { margin-top:8px; color:#e6d6ff; font-size:.95rem; }
    .countdown-msg.warn { color:#ffd166; font-weight:700; }
    .countdown-msg.danger { color:#ff8bb0; font-weight:800; }
    .game-card h4 { margin:0 0 6px; color:#efe1ff; font-size:1.02rem; letter-spacing:.03em; }
    .game-card p { margin:0; color:#c3aedf; font-size:.95rem; line-height:1.35; }
    .tag {
      display:inline-block; margin-top:8px; padding:4px 8px; border-radius:999px;
      border:1px solid #6a49b8; color:#e9dcff; font-size:.82rem; font-weight:700; background:#1a1130;
    }

    .verify {
      margin-top:16px; border:1px solid var(--line); border-radius:var(--radius);
      background:rgba(16,9,31,.92); padding:16px;
    }
    .verify pre {
      margin:8px 0 0; border:1px solid var(--line-soft); border-radius:10px;
      padding:10px; overflow-x:auto; background:#100a1f; color:#e9dcff;
      font-size:.95rem; line-height:1.4;
    }
    .footer {
      margin-top:12px; color:#bba6df; font-size:.95rem; text-align:center;
      border-top:1px solid rgba(106,73,184,.55); padding-top:10px;
    }
    .mono { font-family:Consolas,Menlo,monospace; font-size:.95rem; }

    @keyframes pulseLogo {
      0%,100% { transform:translateY(0); filter:hue-rotate(28deg) saturate(1.2) drop-shadow(0 0 18px rgba(191,124,255,.40)); }
      50% { transform:translateY(-1px); filter:hue-rotate(28deg) saturate(1.2) drop-shadow(0 0 26px rgba(191,124,255,.62)); }
    }
    @keyframes rise {
      from { opacity:0; transform:translateY(10px); }
      to { opacity:1; transform:translateY(0); }
    }
    @keyframes drift {
      0%,100% { transform:translate(0,0) scale(1); }
      50% { transform:translate(18px,-14px) scale(1.04); }
    }
    @keyframes sweep {
      0% { transform:translateX(0); }
      100% { transform:translateX(44px); }
    }
    @keyframes rackFlicker {
      0%,100% { box-shadow:0 0 20px rgba(125,77,255,.20), inset 0 0 0 1px rgba(240,224,255,.04); }
      50% { box-shadow:0 0 28px rgba(191,124,255,.30), inset 0 0 0 1px rgba(255,111,157,.10); }
    }
    @keyframes dataSweep {
      0% { transform:translateX(-130%); }
      100% { transform:translateX(150%); }
    }
    @keyframes ledBlink {
      0%,100% { opacity:.55; }
      50% { opacity:.95; }
    }
    @keyframes beamRun {
      0% { transform:translateY(22px); opacity:.1; }
      20% { opacity:.55; }
      100% { transform:translateY(-220px); opacity:0; }
    }
    @keyframes hbPulse {
      0% { box-shadow:0 0 0 0 rgba(140,255,194,.45); }
      70% { box-shadow:0 0 0 10px rgba(140,255,194,0); }
      100% { box-shadow:0 0 0 0 rgba(140,255,194,0); }
    }
    @keyframes hbPulseWarn {
      0% { box-shadow:0 0 0 0 rgba(255,209,102,.4); }
      70% { box-shadow:0 0 0 10px rgba(255,209,102,0); }
      100% { box-shadow:0 0 0 0 rgba(255,209,102,0); }
    }
    @keyframes glassShimmer {
      0%,100% { opacity:.56; }
      50% { opacity:.70; }
    }
    @keyframes glarePass {
      0% { transform:translateX(-30vw) rotate(14deg); }
      100% { transform:translateX(160vw) rotate(14deg); }
    }
    @keyframes rainShift {
      0% { transform:translateX(0); }
      100% { transform:translateX(26px); }
    }

    @media (max-width:980px) {
      .hero-grid { grid-template-columns:1fr; }
      .grid { grid-template-columns:1fr; }
      .game-grid { grid-template-columns:1fr 1fr; }
      .upsell-grid { grid-template-columns:1fr; }
      .addon-wall { grid-template-columns:1fr 1fr; }
      .stack-grid { grid-template-columns:1fr; }
      .party-grid { grid-template-columns:1fr 1fr; }
      .countdown-timer { grid-template-columns:repeat(2,minmax(0,1fr)); }
      .brand img { width:185px; }
      .server-room { opacity:.28; gap:1vw; padding-bottom:2.2vh; }
      .rack { width:min(13vw,92px); height:min(30vh,230px); }
    }
    @media (max-width:680px) {
      .game-grid { grid-template-columns:1fr; }
      .addon-wall { grid-template-columns:1fr; }
      .party-grid { grid-template-columns:1fr; }
    }
  </style>
</head>
<body>
  <div class="bgfx">
    <span class="orb a"></span>
    <span class="orb b"></span>
    <span class="orb c"></span>
    <div class="server-room" aria-hidden="true">
      <div class="beam b1"></div>
      <div class="beam b2"></div>
      <div class="beam b3"></div>
      <div class="beam b4"></div>
      <div class="beam b5"></div>
      <div class="rack"><span class="leds"></span></div>
      <div class="rack"><span class="leds"></span></div>
      <div class="rack"><span class="leds"></span></div>
      <div class="rack"><span class="leds"></span></div>
      <div class="rack"><span class="leds"></span></div>
      <div class="rack"><span class="leds"></span></div>
      <div class="rack"><span class="leds"></span></div>
    </div>
    <span class="scan"></span>
    <span class="glass"></span>
    <span class="glass-rain"></span>
    <span class="glass-frame"></span>
    <span class="glass-vignette"></span>
  </div>

  <div class="shell">
    <div id="incidentBanner" class="panel" style="display:none;margin-bottom:10px;border-color:#ff6f9d;background:linear-gradient(145deg, rgba(80,20,47,.92), rgba(35,11,30,.92));"></div>
    <div id="promoBanner" class="panel" style="display:none;margin-bottom:10px;border-color:#ffd166;background:linear-gradient(145deg, rgba(74,50,16,.92), rgba(36,24,9,.92));"></div>
    <div class="topbar">
      <div class="brand">
        <img src="/assets/frenzynet-logo.svg" alt="FrenzyNets" />
      </div>
      <div class="top-links">
        <a class="link-btn" data-track="nav_watch_party" href="/telewatch/">Watch Party</a>
        <a class="link-btn" data-track="nav_discord" href="https://discord.gg/4uRUSAN498" target="_blank" rel="noopener">Join Discord</a>
        <a class="link-btn" data-track="nav_billing" href="/billing/">Subscribe / Pay</a>
        <a class="link-btn" data-track="nav_setup" href="/setup/">Setup Guide</a>
        <a class="link-btn" data-track="nav_downloads" href="/frenzynet-updates/">Download Portal</a>
        <a class="link-btn" href="/frenzynet-updates/trust-info.json">Trust Info</a>
        <a class="link-btn" href="/frenzynet-updates/release-notes-stable.json">Release Notes</a>
        <a class="link-btn" href="/status/">Status</a>
        <a class="link-btn" href="/referrals/">Referrals</a>
        <a class="link-btn" href="/portal/">Client Portal</a>
        <a class="link-btn" href="/admin/" target="_blank" rel="noopener">Admin Login</a>
      </div>
    </div>

    <section class="hero">
      <div class="hero-grid">
        <div>
          <h1 id="heroTitle">Win More Fights.<br>Lose Less Packets.</h1>
          <p id="heroSub" class="sub">Built for competitive gaming with smart route recovery, jitter protection, and direct WireGuard tunnel control in one panel. No separate WireGuard UI needed.</p>
          <div class="chip-row">
            <span id="trustChipA" class="chip">Auto Self-Heal</span>
            <span id="trustChipB" class="chip">Quick Connect</span>
            <span id="trustChipC" class="chip">Premium Presets</span>
            <span id="trustChipD" class="chip">Discord Support</span>
          </div>
          <div class="cta-row">
            <a id="heroCtaPrimary" data-track="hero_primary" class="btn btn-primary" href="/billing/">Start Subscription</a>
            <a id="heroCtaSecondary" data-track="hero_secondary" class="btn btn-primary" href="https://discord.gg/4uRUSAN498" target="_blank" rel="noopener">Join Discord Sales</a>
            <a data-track="hero_watch" class="btn btn-primary" href="/telewatch/">Start Watch Party</a>
            <a data-track="hero_download" class="btn btn-secondary" href="/frenzynet-updates/">Download Client Files</a>
            <a data-track="hero_checkout" class="btn btn-secondary" href="/billing/">Open Checkout</a>
          </div>
        </div>
        <div class="status-card">
          <div class="heartbeat-wrap">
            <div class="heartbeat"><span id="hbDot" class="hb-dot"></span><span id="hbText" class="hb-text">Heartbeat: checking</span></div>
            <div id="hbLast" class="hb-last">Last heartbeat: pending</div>
          </div>
          <div class="k">Service Status</div><div id="svc" class="v">Checking...</div>
          <div style="height:10px"></div>
          <div class="k">Last Backup</div><div id="bkp" class="v mono">Checking...</div>
          <div style="height:10px"></div>
          <div class="k">Self-Heal Activity</div><div id="heal" class="v mono">Checking...</div>
        </div>
      </div>
    </section>

    <section class="countdown-zone">
      <div class="countdown-head">
        <h2 style="margin:0;font-family:'Orbitron',sans-serif;font-size:1.08rem;letter-spacing:.05em;text-transform:uppercase;color:#e8d6ff">Beta Intro Pricing Countdown</h2>
        <span id="betaBadge" class="countdown-badge">Beta Offer Live</span>
      </div>
      <div class="countdown-timer">
        <div class="countdown-cell"><div id="betaDays" class="n">--</div><div class="k">Days</div></div>
        <div class="countdown-cell"><div id="betaHours" class="n">--</div><div class="k">Hours</div></div>
        <div class="countdown-cell"><div id="betaMinutes" class="n">--</div><div class="k">Minutes</div></div>
        <div class="countdown-cell"><div id="betaSeconds" class="n">--</div><div class="k">Seconds</div></div>
      </div>
      <div id="betaMsg" class="countdown-msg">Intro pricing is active for the first 3 months (beta).</div>
      <div class="cta-row" style="margin-top:10px">
        <a class="btn btn-primary" href="/billing/?plan=quarterly">Lock In Beta Deal</a>
        <a class="btn btn-secondary" href="/billing/?plan=competitive&addons=anti_ddos,premium_presets">Get Popular Stack</a>
      </div>
    </section>

    <section class="grid">
      <article class="panel"><h3>Auto Update</h3><p>Client checks manifest and applies signed package updates automatically.</p></article>
      <article class="panel"><h3>Self-Heal Engine</h3><p>Device/IP-aware remediation triggers when instability is detected.</p></article>
      <article class="panel"><h3>Built-In Control Panel</h3><p>All actions stay inside FrenzyNet: connect, profile select, diagnostics, and updates.</p></article>
    </section>

    <section class="game-zone" style="margin-top:14px">
      <h2>Live Pricing & Add-ons</h2>
      <div id="plansGrid" class="game-grid"></div>
      <div style="height:8px"></div>
      <div id="addonsGrid" class="grid"></div>
      <div class="cta-row" style="margin-top:12px">
        <a class="btn btn-primary" href="/billing/">Subscribe & Pay Now</a>
      </div>
    </section>

    <section class="game-zone">
      <h2>Beta Bundle Deals (First 3 Months)</h2>
      <div id="bundleGrid" class="upsell-grid"></div>
      <div class="cta-row" style="margin-top:12px">
        <a class="btn btn-primary" href="/billing/?plan=quarterly">Get Quarterly Discount</a>
        <a class="btn btn-secondary" href="/billing/?plan=semiannual">Get Semiannual Discount</a>
      </div>
    </section>

    <section class="game-zone">
      <h2>Premium Add-on Store</h2>
      <div id="addonWall" class="addon-wall"></div>
      <div class="cta-row" style="margin-top:12px">
        <a class="btn btn-primary" href="/billing/?plan=competitive">Build My Custom Stack</a>
      </div>
    </section>

    <section class="game-zone">
      <h2>Most Popular Stacks</h2>
      <div id="stackGrid" class="stack-grid"></div>
      <div class="cta-row" style="margin-top:12px">
        <a class="btn btn-primary" href="/billing/?plan=competitive&addons=anti_ddos,premium_presets">Start Popular Stack</a>
      </div>
    </section>

    <section class="game-zone">
      <h2>Competitive Preset Packs</h2>
      <div class="game-grid">
        <article class="game-card">
          <h4>Call of Duty Ranked</h4>
          <p>Tight route selection and anti-spike behavior for close gunfights and ranked consistency.</p>
          <span class="tag">High Action</span>
        </article>
        <article class="game-card">
          <h4>Fortnite Arena</h4>
          <p>Prioritizes stable edit fights and rotation timing with low-jitter lane balancing.</p>
          <span class="tag">Battle Royale</span>
        </article>
        <article class="game-card">
          <h4>Valorant Competitive</h4>
          <p>Clean, steady routes for peek timing and shot registration during tactical rounds.</p>
          <span class="tag">Tac FPS</span>
        </article>
        <article class="game-card">
          <h4>CS2 Faceit</h4>
          <p>Balanced routing profile tuned for consistent pings and low packet turbulence.</p>
          <span class="tag">Precision FPS</span>
        </article>
      </div>
    </section>

    <section class="game-zone">
      <h2>Proof Of Performance</h2>
      <div class="grid">
        <article class="panel"><h3>Average Jitter Drop</h3><p id="proofJitter">22% lower jitter during ranked sessions.</p></article>
        <article class="panel"><h3>Packet Loss Stability</h3><p id="proofLoss">Up to 35% fewer packet loss spikes in peak hours.</p></article>
        <article class="panel"><h3>Route Recovery</h3><p id="proofRecovery">Automatic failover in seconds when path quality drops.</p></article>
      </div>
    </section>

    <section class="game-zone">
      <h2>Premium Capacity Meter</h2>
      <div id="capacityGrid" class="upsell-grid"></div>
    </section>

    <section class="game-zone">
      <h2>Player Reviews</h2>
      <div id="reviewCard" class="stack-card"><h4>Loading reviews...</h4></div>
    </section>

    <section class="game-zone">
      <h2>Discord Watch Party</h2>
      <div class="grid">
        <article class="panel">
          <h3>Join By Room Code</h3>
          <p>Paste the room code from Discord voice chat and jump into synced playback.</p>
          <div class="watch-join">
            <input id="watchRoomCode" class="watch-input" type="text" maxlength="12" placeholder="Room code (ex: K7V9P2)" />
            <a id="watchJoinBtn" class="btn btn-primary" href="/telewatch/" data-track="watch_join">Join Watch Party</a>
          </div>
          <div id="watchPartyRooms" class="party-grid"></div>
        </article>
        <article class="panel">
          <h3>Create New Room</h3>
          <p>Host your own watch room and share the generated invite link with your group.</p>
          <div class="cta-row" style="margin-top:10px">
            <a class="btn btn-secondary" href="/telewatch/" data-track="watch_create">Open Telewatch</a>
          </div>
        </article>
        <article class="panel">
          <h3>How It Works</h3>
          <p>Everyone watches on their own stream account while Telewatch keeps timestamps in sync.</p>
        </article>
      </div>
    </section>

    <section class="game-zone">
      <h2>Growth Channels</h2>
      <div class="cta-row">
        <a class="btn btn-primary" href="/referrals/">Open Referral Portal</a>
        <a class="btn btn-secondary" href="/portal/">Open License Portal</a>
        <a class="btn btn-secondary" href="/status/">Open Live Status</a>
      </div>
    </section>

    <section class="verify">
      <div class="k">Signed Changelog (stable)</div>
      <pre id="releaseNotes">Loading release notes...</pre>
      <div id="downloadGateInfo" class="countdown-msg" style="margin-top:10px">Installer requirements: .NET Desktop Runtime, WireGuard, and admin permission for network setup.</div>
      <div class="k" style="margin-top:12px">Verify Download (PowerShell)</div>
      <pre>Get-FileHash .\FrenzyNet-Setup.exe -Algorithm SHA256
# Compare with: /frenzynet-updates/FrenzyNet-Setup.exe.sha256</pre>
      <div class="cta-row" style="margin-top:12px">
        <a class="btn btn-secondary" href="/frenzynet-updates/FrenzyNet-Setup.exe.sha256">Setup SHA256</a>
        <a class="btn btn-secondary" href="/frenzynet-updates/FrenzyNet-win-x64.zip.sha256">ZIP SHA256</a>
      </div>
    </section>

    <div class="footer">&copy; 2026 FrenzyNets. All rights reserved. | FrenzyNets Control Plane | <a href="/legal/terms.html">Terms</a> | <a href="/legal/privacy.html">Privacy</a> | <a href="/legal/refund.html">Refunds</a></div>
  </div>

  <script>
    async function getJson(url){ const r = await fetch(url, { cache: 'no-store' }); if(!r.ok) throw new Error(String(r.status)); return r.json(); }
    function ago(min){ if(min==null) return 'n/a'; if(min<1) return 'just now'; if(min<60) return `${min} min ago`; const h=Math.floor(min/60); const m=min%60; return `${h}h ${m}m ago`; }

    async function getStatusWithFallback(){
      const endpoints = ['/api/public/status', '/api/frenzynet/api/public/status'];
      const attempts = 3;
      for (let i = 0; i < attempts; i++) {
        for (const ep of endpoints) {
          try {
            const data = await getJson(ep);
            localStorage.setItem('frenzy_last_status', JSON.stringify({ at: Date.now(), data }));
            return data;
          } catch (_) { }
        }
        await new Promise(r => setTimeout(r, 600 * (i + 1)));
      }
      try {
        const cached = JSON.parse(localStorage.getItem('frenzy_last_status') || '{}');
        if (cached && cached.data) return cached.data;
      } catch (_) { }
      throw new Error('status_unreachable');
    }

    async function loadLivePricing() {
      const endpoints = ['/api/frenzynet/api/billing/providers', '/api/billing/providers'];
      let data = null;
      for (const ep of endpoints) {
        try {
          const r = await fetch(ep, { cache: 'no-store' });
          if (!r.ok) continue;
          data = await r.json();
          break;
        } catch (_) { }
      }
      const plansGrid = document.getElementById('plansGrid');
      const addonsGrid = document.getElementById('addonsGrid');
      const bundleGrid = document.getElementById('bundleGrid');
      const addonWall = document.getElementById('addonWall');
      const stackGrid = document.getElementById('stackGrid');
      if (!plansGrid || !addonsGrid) return;
      if (!data || !Array.isArray(data.plans)) {
        plansGrid.innerHTML = '<article class="game-card"><h4>Pricing unavailable</h4><p>Open checkout for current live pricing.</p><span class="tag">Live API</span></article>';
        addonsGrid.innerHTML = '';
        if (bundleGrid) bundleGrid.innerHTML = '<article class="upsell-card"><h4>Bundle data unavailable</h4><p>Open checkout to view current bundle discounts.</p></article>';
        if (addonWall) addonWall.innerHTML = '';
        if (stackGrid) stackGrid.innerHTML = '';
        return;
      }
      const money = (c, cc='USD') => new Intl.NumberFormat('en-US', { style:'currency', currency:cc }).format((Number(c || 0))/100);
      plansGrid.innerHTML = data.plans.map(p => `<article class="game-card"><h4>${p.name || p.code}</h4><p>${p.description || 'FrenzyNet subscription plan'}</p><span class="tag">${money(p.amountCents, p.currency || 'USD')} / ${p.interval || 'month'}</span></article>`).join('');
      const addons = Array.isArray(data.addons) ? data.addons : [];
      addonsGrid.innerHTML = addons.length
        ? addons.map(a => `<article class="panel"><h3>${a.name || a.code}</h3><p>${a.description || 'Optional performance add-on'}</p><div class="v">${money(a.amountCents, a.currency || 'USD')}</div></article>`).join('')
        : '<article class="panel"><h3>Add-ons</h3><p>No add-ons currently enabled.</p></article>';

      if (bundleGrid) {
        const planByCode = new Map(data.plans.map(p => [String(p.code || '').toLowerCase(), p]));
        const monthly = planByCode.get('monthly') || planByCode.get('competitive') || null;
        const quarterly = planByCode.get('quarterly') || null;
        const semiannual = planByCode.get('semiannual') || null;
        const yearly = planByCode.get('yearly') || planByCode.get('elite_yearly') || null;
        const cards = [];
        if (monthly && quarterly) {
          const save = Math.max(0, (Number(monthly.amountCents || 0) * 3) - Number(quarterly.amountCents || 0));
          cards.push(`<article class="upsell-card"><span class="ribbon">BETA</span><h4>Quarterly Bundle</h4><p>3-month prepaid with locked beta pricing.</p><div class="upsell-price">${money(quarterly.amountCents, quarterly.currency || 'USD')}</div><div class="upsell-meta">Save ${money(save, quarterly.currency || 'USD')} vs 3x monthly</div><a class="btn btn-secondary" style="margin-top:8px" href="/billing/?plan=${encodeURIComponent(quarterly.code || 'quarterly')}">Select</a></article>`);
        }
        if (monthly && semiannual) {
          const save = Math.max(0, (Number(monthly.amountCents || 0) * 6) - Number(semiannual.amountCents || 0));
          cards.push(`<article class="upsell-card"><span class="ribbon">BETA</span><h4>Semiannual Bundle</h4><p>6-month prepaid with deeper intro discount.</p><div class="upsell-price">${money(semiannual.amountCents, semiannual.currency || 'USD')}</div><div class="upsell-meta">Save ${money(save, semiannual.currency || 'USD')} vs 6x monthly</div><a class="btn btn-secondary" style="margin-top:8px" href="/billing/?plan=${encodeURIComponent(semiannual.code || 'semiannual')}">Select</a></article>`);
        }
        if (yearly) {
          cards.push(`<article class="upsell-card"><h4>Yearly Value Lock</h4><p>Best long-term rate for players staying competitive year-round.</p><div class="upsell-price">${money(yearly.amountCents, yearly.currency || 'USD')}</div><div class="upsell-meta">Max value plan</div><a class="btn btn-secondary" style="margin-top:8px" href="/billing/?plan=${encodeURIComponent(yearly.code || 'yearly')}">Select</a></article>`);
        }
        bundleGrid.innerHTML = cards.length ? cards.join('') : '<article class="upsell-card"><h4>Bundle deals loading</h4><p>Open checkout to compare plans.</p></article>';
      }

      if (addonWall) {
        const featuredCodes = ['anti_ddos', 'premium_presets', 'priority_support', 'dedicated_ip', 'tournament_priority', 'advanced_analytics', 'geo_unlock', 'anti_spike_guard', 'adblock_streaming'];
        const addonByCode = new Map(addons.map(a => [String(a.code || '').toLowerCase(), a]));
        const featured = featuredCodes.map(c => addonByCode.get(c)).filter(Boolean);
        const rows = (featured.length ? featured : addons).slice(0, 12);
        addonWall.innerHTML = rows.length
          ? rows.map(a => `<article class="addon-chip"><h5>${a.name || a.code}</h5><p>${a.description || 'Performance add-on'}</p><div class="m">+${money(a.amountCents, a.currency || 'USD')} / month</div></article>`).join('')
          : '<article class="addon-chip"><h5>No add-ons</h5><p>Add-ons will appear here when enabled.</p></article>';
      }

      if (stackGrid) {
        const planByCode = new Map(data.plans.map(p => [String(p.code || '').toLowerCase(), p]));
        const addonByCode = new Map(addons.map(a => [String(a.code || '').toLowerCase(), a]));
        const pickPlan = (...codes) => {
          for (const c of codes) {
            const row = planByCode.get(String(c).toLowerCase());
            if (row) return row;
          }
          return null;
        };
        const stackDefs = [
          { name:'Popular Ranked Stack', badge:'TOP SELLER', plan: pickPlan('competitive','monthly'), addons:['anti_ddos','premium_presets'], note:'Best balance of protection + latency consistency.' },
          { name:'Tournament Pro Stack', badge:'PRO', plan: pickPlan('elite','elite_monthly','monthly'), addons:['tournament_priority','dedicated_ip','anti_spike_guard'], note:'Built for scrims/tournaments with priority routing.' },
          { name:'Creator + Gaming Stack', badge:'CREATOR', plan: pickPlan('competitive','monthly'), addons:['stream_mode','priority_support','advanced_analytics'], note:'Smooth gameplay and stream stability together.' }
        ];
        const cards = [];
        for (const s of stackDefs) {
          if (!s.plan) continue;
          const addRows = s.addons.map(c => addonByCode.get(String(c).toLowerCase())).filter(Boolean);
          const addonTotal = addRows.reduce((sum, a) => sum + Number(a.amountCents || 0), 0);
          const total = Number(s.plan.amountCents || 0) + addonTotal;
          const addonCodes = addRows.map(a => encodeURIComponent(String(a.code || ''))).join(',');
          const link = `/billing/?plan=${encodeURIComponent(String(s.plan.code || ''))}${addonCodes ? `&addons=${addonCodes}` : ''}`;
          cards.push(`<article class="stack-card"><span class="stack-badge">${s.badge}</span><h4>${s.name}</h4><p>${s.note}</p><div class="stack-list">Plan: ${s.plan.name || s.plan.code}<br>Add-ons: ${addRows.map(a => a.name || a.code).join(', ') || 'None'}</div><div class="stack-price">${money(total, s.plan.currency || 'USD')} / month</div><a class="btn btn-secondary" style="margin-top:8px" href="${link}">Choose Stack</a></article>`);
        }
        stackGrid.innerHTML = cards.length ? cards.join('') : '<article class="stack-card"><h4>Stacks unavailable</h4><p>Open checkout to configure manually.</p></article>';
      }
    }

    function applySiteConfig(siteConfig) {
      const ws = siteConfig && typeof siteConfig === 'object' ? (siteConfig.websiteSettings || {}) : {};
      window.__frenzySiteConfig = siteConfig || {};

      const heroTitle = document.getElementById('heroTitle');
      const heroSub = document.getElementById('heroSub');
      const heroCtaPrimary = document.getElementById('heroCtaPrimary');
      const heroCtaSecondary = document.getElementById('heroCtaSecondary');
      if (heroTitle && ws.hero && ws.hero.title) heroTitle.innerHTML = String(ws.hero.title).replace(/\n/g, '<br>');
      if (heroSub && ws.hero && ws.hero.sub) heroSub.textContent = String(ws.hero.sub);
      if (heroCtaPrimary && ws.hero && ws.hero.ctaPrimary) heroCtaPrimary.textContent = String(ws.hero.ctaPrimary);
      if (heroCtaSecondary && ws.hero && ws.hero.ctaSecondary) heroCtaSecondary.textContent = String(ws.hero.ctaSecondary);

      const trustA = document.getElementById('trustChipA');
      const trustB = document.getElementById('trustChipB');
      const trustC = document.getElementById('trustChipC');
      const trustD = document.getElementById('trustChipD');
      if (trustA && ws.trust && ws.trust.uptime) trustA.textContent = String(ws.trust.uptime);
      if (trustB && ws.trust && ws.trust.users) trustB.textContent = String(ws.trust.users);
      if (trustC && ws.trust && ws.trust.backup) trustC.textContent = String(ws.trust.backup);

      if (ws.seo && ws.seo.title) document.title = String(ws.seo.title);
      if (ws.seo && ws.seo.description) {
        const metaDesc = document.querySelector('meta[name="description"]');
        if (metaDesc) metaDesc.setAttribute('content', String(ws.seo.description));
      }

      const incidentBanner = document.getElementById('incidentBanner');
      if (incidentBanner) {
        const mode = String(ws.incident?.mode || 'off').toLowerCase();
        if (mode !== 'off') {
          incidentBanner.style.display = 'block';
          incidentBanner.textContent = ws.incident?.text || (mode === 'outage' ? 'Service disruption detected. Team is actively recovering.' : 'Service is degraded. Recovery is in progress.');
        } else {
          incidentBanner.style.display = 'none';
        }
      }

      const promoBanner = document.getElementById('promoBanner');
      if (promoBanner) {
        const now = Date.now();
        const rows = Array.isArray(ws.bannerSchedule) ? ws.bannerSchedule : [];
        const active = rows.find(b => {
          const s = Date.parse(String(b.start || ''));
          const e = Date.parse(String(b.end || ''));
          return Number.isFinite(s) && Number.isFinite(e) && now >= s && now <= e;
        });
        if (active && active.text) {
          promoBanner.style.display = 'block';
          promoBanner.textContent = String(active.text);
        } else {
          promoBanner.style.display = 'none';
        }
      }

      const gateInfo = document.getElementById('downloadGateInfo');
      if (gateInfo && ws.downloadGate) {
        const parts = [
          `.NET Desktop Runtime: ${ws.downloadGate.dotnet || 'required'}`,
          `WireGuard: ${ws.downloadGate.wireguard || 'required'}`,
          `Admin rights: ${ws.downloadGate.admin || 'required'}`
        ];
        gateInfo.textContent = 'Installer requirements: ' + parts.join(' | ');
      }

      if (ws.proof?.jitter && document.getElementById('proofJitter')) document.getElementById('proofJitter').textContent = String(ws.proof.jitter);
      if (ws.proof?.loss && document.getElementById('proofLoss')) document.getElementById('proofLoss').textContent = String(ws.proof.loss);
      if (ws.proof?.recovery && document.getElementById('proofRecovery')) document.getElementById('proofRecovery').textContent = String(ws.proof.recovery);
    }

    function renderCapacity(statusObj) {
      const ws = window.__frenzySiteConfig?.websiteSettings || {};
      const grid = document.getElementById('capacityGrid');
      if (!grid) return;
      const active = Number(statusObj?.activeSessions || 0);
      const plans = ws.capacity || {
        Starter: { max: 120 },
        Competitive: { max: 90 },
        Elite: { max: 60 },
      };
      const rows = Object.entries(plans).map(([name, cfg]) => {
        const max = Math.max(1, Number(cfg?.max || 1));
        const used = Math.min(max, Number(cfg?.used || Math.round(active * (name === 'Starter' ? 0.55 : name === 'Competitive' ? 0.35 : 0.2))));
        const pct = Math.max(0, Math.min(100, Math.round((used / max) * 100)));
        return `<article class="upsell-card"><h4>${name}</h4><p>Capacity usage for ${name} tier nodes.</p><div class="upsell-meta">${used}/${max} in use</div><div style="margin-top:8px;border:1px solid #5f44a8;border-radius:8px;overflow:hidden"><div style="height:10px;background:linear-gradient(90deg,#8cffc2,#bf7cff);width:${pct}%"></div></div><div class="upsell-price">${100-pct}% headroom</div></article>`;
      });
      grid.innerHTML = rows.join('');
    }

    function startReviewCarousel() {
      const ws = window.__frenzySiteConfig?.websiteSettings || {};
      const card = document.getElementById('reviewCard');
      if (!card) return;
      const reviews = Array.isArray(ws.testimonials) && ws.testimonials.length ? ws.testimonials : [
        { user: '@dustin', role: 'Ranked COD', quote: 'Hit less jitter in prime-time lobbies and smoother gunfights.' },
        { user: '@wyatt', role: 'Tournament Player', quote: 'Route recovery saved matches when a node got unstable.' },
        { user: '@josh', role: 'Streamer', quote: 'Gaming and stream quality stayed stable with fewer spikes.' }
      ];
      let idx = 0;
      const draw = () => {
        const r = reviews[idx % reviews.length];
        card.innerHTML = `<h4>${r.user}</h4><p>${r.quote}</p><div class="stack-list">${r.role || 'FrenzyNet Player'}</div>`;
        idx += 1;
      };
      draw();
      setInterval(draw, 5000);
    }

    async function loadSiteConfig() {
      const endpoints = ['/api/public/site-config', '/api/frenzynet/api/public/site-config'];
      for (const ep of endpoints) {
        try {
          const d = await getJson(ep);
          if (d && d.siteConfig) {
            applySiteConfig(d.siteConfig);
            return;
          }
        } catch (_) { }
      }
    }

    (async () => {
      const hbDot = document.getElementById('hbDot');
      const hbText = document.getElementById('hbText');
      const hbLast = document.getElementById('hbLast');
      let heartbeatFailures = 0;
      let lastOkAt = null;

      function fmtTs(d){
        try { return d.toISOString().replace('T',' ').replace('Z',' UTC'); } catch { return 'n/a'; }
      }

      async function heartbeatTick() {
        const endpoints = [
          '/api/public/ping',
          '/api/frenzynet/api/public/ping',
          '/api/public/status',
          '/api/frenzynet/api/public/status',
          '/api/health',
          '/api/frenzynet/api/health'
        ];
        let ok = false;
        for (const ep of endpoints) {
          try {
            const r = await fetch(ep, { cache: 'no-store' });
            if (r.ok) { ok = true; break; }
          } catch (_) { }
        }
        if (ok) {
          heartbeatFailures = 0;
          lastOkAt = new Date();
          hbDot.className = 'hb-dot online';
          hbText.textContent = 'Heartbeat: online';
          hbLast.textContent = `Last heartbeat: ${fmtTs(lastOkAt)}`;
        } else {
          heartbeatFailures += 1;
          if (heartbeatFailures < 3) {
            hbDot.className = 'hb-dot warn';
            hbText.textContent = 'Heartbeat: reconnecting';
            hbLast.textContent = lastOkAt ? `Last heartbeat: ${fmtTs(lastOkAt)} (stale)` : 'Last heartbeat: pending';
          } else {
            hbDot.className = 'hb-dot offline';
            hbText.textContent = 'Heartbeat: offline';
            hbLast.textContent = lastOkAt ? `Last heartbeat: ${fmtTs(lastOkAt)} (offline)` : 'Last heartbeat: unavailable';
          }
        }
      }

      try {
        await loadSiteConfig();
        const st = await getStatusWithFallback();
        heartbeatFailures = 0;
        lastOkAt = new Date();
        hbDot.className = 'hb-dot online';
        hbText.textContent = 'Heartbeat: online';
        hbLast.textContent = `Last heartbeat: ${fmtTs(lastOkAt)}`;
        document.getElementById('svc').textContent = st.ok ? 'ONLINE' : 'DEGRADED';
        document.getElementById('svc').className = 'v ' + (st.ok ? 'ok' : 'warn');
        document.getElementById('bkp').textContent = st.backup?.lastBackupAt ? `${st.backup.lastBackupAt} (${ago(st.backup.lastBackupAgeMinutes)})` : 'No backup yet';
        document.getElementById('heal').textContent = st.selfHeal?.lastActionAt ? `${st.selfHeal.lastActionAt} (${ago(st.selfHeal.lastActionAgeMinutes)})` : 'No actions yet';
        renderCapacity(st);
        startReviewCarousel();
      } catch {
        if (heartbeatFailures === 0) {
          document.getElementById('svc').textContent = 'ONLINE (STATUS LIMITED)';
          document.getElementById('svc').className = 'v warn';
        } else {
          document.getElementById('svc').textContent = 'API RECONNECTING';
          document.getElementById('svc').className = 'v warn';
        }
        document.getElementById('bkp').textContent = 'Unavailable';
        document.getElementById('heal').textContent = 'Unavailable';
        renderCapacity(null);
        startReviewCarousel();
      }

      try {
        const rn = await getJson('/frenzynet-updates/release-notes-stable.json');
        document.getElementById('releaseNotes').textContent =
`version: ${rn.version}\nchannel: ${rn.channel}\npublishedAt: ${rn.publishedAt}\nnotes: ${rn.notes}\nsignatureAlgorithm: ${rn.signatureAlgorithm}`;
      } catch {
        document.getElementById('releaseNotes').textContent = 'Release notes unavailable.';
      }

      await loadLivePricing();
      await heartbeatTick();
      setInterval(heartbeatTick, 7000);
    })();

    (() => {
      const fallbackBetaEndIso = '2026-05-31T23:59:59Z';
      let end = Date.parse(fallbackBetaEndIso);
      const daysEl = document.getElementById('betaDays');
      const hoursEl = document.getElementById('betaHours');
      const minsEl = document.getElementById('betaMinutes');
      const secsEl = document.getElementById('betaSeconds');
      const msgEl = document.getElementById('betaMsg');
      const badgeEl = document.getElementById('betaBadge');

      function setCells(d, h, m, s) {
        daysEl.textContent = String(Math.max(0, d));
        hoursEl.textContent = String(Math.max(0, h)).padStart(2, '0');
        minsEl.textContent = String(Math.max(0, m)).padStart(2, '0');
        secsEl.textContent = String(Math.max(0, s)).padStart(2, '0');
      }

      function tick() {
        if (!Number.isFinite(end)) {
          setCells(0, 0, 0, 0);
          msgEl.textContent = 'Beta deadline is being updated. Checkout still available.';
          return;
        }
        const now = Date.now();
        let diff = end - now;
        if (diff <= 0) {
          setCells(0, 0, 0, 0);
          badgeEl.textContent = 'Beta Ended';
          msgEl.className = 'countdown-msg danger';
          msgEl.textContent = 'Beta intro window has ended. Standard pricing now applies.';
          return;
        }
        const d = Math.floor(diff / 86400000); diff -= d * 86400000;
        const h = Math.floor(diff / 3600000); diff -= h * 3600000;
        const m = Math.floor(diff / 60000); diff -= m * 60000;
        const s = Math.floor(diff / 1000);
        setCells(d, h, m, s);
        if (d <= 3) {
          badgeEl.textContent = 'Ending Soon';
          msgEl.className = 'countdown-msg danger';
          msgEl.textContent = 'Last chance: beta intro pricing ends in under 72 hours.';
        } else if (d <= 10) {
          badgeEl.textContent = 'Limited Time';
          msgEl.className = 'countdown-msg warn';
          msgEl.textContent = 'Beta pricing ending soon. Lock your discounted bundle now.';
        } else {
          badgeEl.textContent = 'Beta Offer Live';
          msgEl.className = 'countdown-msg';
          msgEl.textContent = 'Intro pricing is active for the first 3 months (beta).';
        }
      }

      async function loadBetaEndFromApi() {
        try {
          const cached = window.__frenzySiteConfig;
          const cParsed = Date.parse(String(cached?.betaCountdownEndIso || ''));
          if (Number.isFinite(cParsed)) {
            end = cParsed;
            return;
          }
        } catch (_) { }
        const endpoints = ['/api/public/site-config', '/api/frenzynet/api/public/site-config'];
        for (const ep of endpoints) {
          try {
            const r = await fetch(ep, { cache: 'no-store' });
            if (!r.ok) continue;
            const d = await r.json();
            const fromApi = d?.siteConfig?.betaCountdownEndIso;
            const parsed = Date.parse(String(fromApi || ''));
            if (Number.isFinite(parsed)) {
              end = parsed;
              return;
            }
          } catch (_) { }
        }
      }

      tick();
      loadBetaEndFromApi().then(tick).catch(() => {});
      setInterval(tick, 1000);
    })();

    (() => {
      const input = document.getElementById('watchRoomCode');
      const join = document.getElementById('watchJoinBtn');
      if (!input || !join) return;
      const update = () => {
        const code = String(input.value || '').trim().toUpperCase().replace(/[^A-Z0-9]/g, '').slice(0, 12);
        input.value = code;
        join.href = code ? `/telewatch/?room=${encodeURIComponent(code)}` : '/telewatch/';
      };
      input.addEventListener('input', update);
      update();
    })();

    (() => {
      const host = document.getElementById('watchPartyRooms');
      if (!host) return;
      const fallbackRooms = Array.from({ length: 10 }, (_, i) => {
        const code = `WATCH${String(i + 1).padStart(2, '0')}`;
        return { roomCode: code, title: `Public Room ${String(i + 1).padStart(2, '0')}`, activeCount: 0, isLive: false, joinUrl: `/telewatch/?room=${code}` };
      });
      const draw = (rooms) => {
        host.innerHTML = (rooms || []).slice(0, 10).map((r) => {
          const code = String(r.roomCode || '').toUpperCase();
          const viewers = Number(r.activeCount || 0);
          const live = Boolean(r.isLive);
          const href = r.joinUrl || `/telewatch/?room=${encodeURIComponent(code)}`;
          const stateClass = live ? 'party-live' : 'party-open';
          const stateText = live ? `LIVE  ${viewers} in room` : 'Open Slot';
          return `<a class="party-btn" data-track="watch_room_click" href="${href}"><span class="party-code">${code}</span><span class="party-meta">${r.title || 'Watch Party Room'}</span><span class="${stateClass}">${stateText}</span></a>`;
        }).join('');
      };
      draw(fallbackRooms);
      (async () => {
        const endpoints = ['/api/telewatch/public-rooms', '/api/telewatch/api/public-rooms'];
        for (const ep of endpoints) {
          try {
            const r = await fetch(ep, { cache: 'no-store' });
            if (!r.ok) continue;
            const j = await r.json();
            if (j && Array.isArray(j.rooms) && j.rooms.length) {
              draw(j.rooms);
              return;
            }
          } catch (_) { }
        }
      })();
    })();

    (() => {
      function track(name) {
        try {
          const k = 'frenzy_track_counts';
          const raw = localStorage.getItem(k);
          const j = raw ? JSON.parse(raw) : {};
          j[name] = Number(j[name] || 0) + 1;
          localStorage.setItem(k, JSON.stringify(j));
        } catch (_) {}
      }
      document.querySelectorAll('[data-track]').forEach((el) => {
        el.addEventListener('click', () => track(String(el.getAttribute('data-track') || 'unknown')));
      });
    })();
  </script>
</body>
</html>
