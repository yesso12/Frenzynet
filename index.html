<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FlickFuse | Watch Together</title>
  <meta name="description" content="FlickFuse is an extension-style watch party platform. Start or join a room in seconds, sync playback, and chat live with friends." />
  <style>
    :root {
      --bg: #0b0d12;
      --bg-2: #121722;
      --panel: #171c28;
      --panel-2: #1b2232;
      --line: #2b3347;
      --text: #eef2ff;
      --muted: #a7b1c8;
      --accent: #f54d74;
      --accent-2: #db2d56;
      --ok: #2fd18a;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      color: var(--text);
      font-family: "Nunito Sans", "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at 12% 0%, rgba(245, 77, 116, 0.2), transparent 30%),
        radial-gradient(circle at 100% 0%, rgba(126, 118, 255, 0.15), transparent 28%),
        linear-gradient(180deg, #0f121a 0%, #0b0d12 48%, #090b10 100%);
      min-height: 100vh;
    }
    .wrap {
      width: min(1240px, calc(100% - 24px));
      margin: 10px auto 30px;
    }
    .topbar {
      position: sticky;
      top: 8px;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
      border: 1px solid var(--line);
      border-radius: 12px;
      background: rgba(22, 27, 39, 0.94);
      backdrop-filter: blur(8px);
      padding: 10px 12px;
    }
    .brand {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: inherit;
    }
    .brand img {
      height: 34px;
      width: auto;
      display: block;
    }
    .brand .word {
      font-weight: 900;
      letter-spacing: .03em;
      font-size: 1rem;
    }
    .nav {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      border: 1px solid #37405a;
      border-radius: 8px;
      padding: 8px 11px;
      color: #e7edff;
      background: #161d2c;
      font-weight: 800;
      font-size: .93rem;
    }
    .btn.primary {
      border: 0;
      color: #fff;
      background: linear-gradient(180deg, var(--accent), var(--accent-2));
    }
    .hero {
      margin-top: 12px;
      border: 1px solid var(--line);
      border-radius: 14px;
      background: linear-gradient(165deg, #171d2a, #121824);
      padding: 22px;
      display: grid;
      gap: 14px;
    }
    .hero h1 {
      margin: 0;
      font-size: clamp(1.9rem, 5vw, 3rem);
      line-height: 1.05;
      letter-spacing: -.01em;
    }
    .hero p {
      margin: 0;
      color: var(--muted);
      max-width: 760px;
      font-size: 1rem;
    }
    .hero-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .badge {
      border: 1px solid #36415a;
      border-radius: 999px;
      padding: 5px 10px;
      color: #cad5ef;
      font-size: .78rem;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: .06em;
      background: #131a2a;
    }
    .cta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .hero-grid {
      display: grid;
      grid-template-columns: 1.3fr .9fr;
      gap: 12px;
      margin-top: 4px;
    }
    .panel {
      border: 1px solid var(--line);
      border-radius: 12px;
      background: #111623;
      padding: 12px;
    }
    .panel h3 {
      margin: 0 0 8px;
      font-size: .95rem;
      letter-spacing: .04em;
      text-transform: uppercase;
      color: #b9c5df;
    }
    .steps {
      display: grid;
      gap: 8px;
    }
    .step {
      border: 1px solid #303a52;
      border-radius: 10px;
      background: #151c2b;
      padding: 9px;
    }
    .step .n {
      color: #ff86a0;
      font-size: .72rem;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .08em;
    }
    .step strong { display: block; margin-top: 2px; }
    .step p {
      margin: 4px 0 0;
      color: var(--muted);
      font-size: .9rem;
      line-height: 1.35;
    }
    .join-box {
      display: grid;
      gap: 8px;
    }
    .join-row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    input {
      flex: 1;
      min-width: 180px;
      border-radius: 8px;
      border: 1px solid #37405b;
      background: #0f1420;
      color: var(--text);
      padding: 9px 10px;
      font: inherit;
    }
    .section {
      margin-top: 12px;
      border: 1px solid var(--line);
      border-radius: 12px;
      background: #121826;
      padding: 14px;
    }
    .section h2 {
      margin: 0 0 8px;
      font-size: 1.18rem;
    }
    .section p { margin: 0 0 10px; color: var(--muted); }
    .cards {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
    }
    .card {
      border: 1px solid #2d3750;
      border-radius: 10px;
      background: #131b2a;
      padding: 10px;
    }
    .card h3 {
      margin: 0 0 6px;
      font-size: .95rem;
      color: #e7eeff;
    }
    .card p { margin: 0; font-size: .9rem; }
    .rooms {
      margin-top: 10px;
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 8px;
    }
    .room {
      border: 1px solid #33405b;
      border-radius: 8px;
      padding: 9px;
      text-decoration: none;
      color: #e7edff;
      background: #151d2d;
      display: grid;
      gap: 4px;
    }
    .room small { color: #9daccc; }
    .plans {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
      margin-top: 8px;
    }
    .plan {
      border: 1px solid #36415d;
      border-radius: 10px;
      background: #141c2c;
      padding: 10px;
      display: grid;
      gap: 7px;
    }
    .plan .price {
      font-size: 1.15rem;
      font-weight: 900;
      color: #ff8ea7;
    }
    .faq {
      display: grid;
      gap: 8px;
    }
    details {
      border: 1px solid #32405f;
      border-radius: 10px;
      background: #141d2f;
      padding: 10px;
    }
    summary {
      cursor: pointer;
      font-weight: 800;
      color: #e9efff;
    }
    details p {
      margin: 8px 0 0;
      color: var(--muted);
      line-height: 1.42;
    }
    .footer {
      margin-top: 12px;
      text-align: center;
      color: #95a2bf;
      font-size: .88rem;
      padding: 8px;
    }
    .ok { color: var(--ok); font-weight: 700; }
    .admin-only.hidden { display: none !important; }
    @media (max-width: 980px) {
      .hero-grid { grid-template-columns: 1fr; }
      .cards { grid-template-columns: 1fr 1fr; }
      .rooms { grid-template-columns: 1fr 1fr; }
      .plans { grid-template-columns: 1fr; }
    }
    @media (max-width: 640px) {
      .wrap { width: calc(100% - 14px); }
      .cards { grid-template-columns: 1fr; }
      .rooms { grid-template-columns: 1fr; }
      .btn { width: 100%; }
      .join-row .btn { width: auto; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="topbar">
      <a class="brand" href="/" aria-label="FlickFuse Home">
        <img src="/assets/frenzy-telewatch-logo.svg" alt="FlickFuse" />
        <span class="word">FlickFuse</span>
      </a>
      <nav class="nav">
        <a class="btn primary" href="/telewatch/">Open Watch Party</a>
        <a class="btn" href="/setup/">How It Works</a>
        <a class="btn" href="https://github.com/yesso12/Frenzynet/tree/main/browser-extension/frenzy-telewatch-extension" target="_blank" rel="noopener">Install Extension</a>
        <a class="btn" href="/telewatch/?mainEvent=1">Main Event</a>
        <a class="btn" href="https://discord.gg/4uRUSAN498" target="_blank" rel="noopener">Discord</a>
        <a class="btn admin-only hidden" href="/telewatch/admin/">Admin</a>
      </nav>
    </header>

    <section class="hero">
      <div class="hero-badges">
        <span class="badge">Extension-Style Flow</span>
        <span class="badge">Synced Playback</span>
        <span class="badge">Live Party Chat</span>
      </div>
      <h1>Watch Together In Seconds</h1>
      <p>FlickFuse is designed like an extension-first watch party platform: start a room, share one link in Discord, and watch in sync with chat and host controls.</p>
      <div class="cta-row">
        <a class="btn primary" href="/telewatch/">Start Watching</a>
        <a class="btn" href="/telewatch/?mode=public">Browse Public Rooms</a>
        <a class="btn" href="https://github.com/yesso12/Frenzynet/tree/main/browser-extension/frenzy-telewatch-extension" target="_blank" rel="noopener">Load Browser Extension</a>
        <a class="btn" href="https://discord.gg/4uRUSAN498" target="_blank" rel="noopener">Open Discord</a>
      </div>

      <div class="hero-grid">
        <div class="panel">
          <h3>How It Works</h3>
          <div class="steps">
            <div class="step">
              <div class="n">Step 1</div>
              <strong>Install / Open FlickFuse</strong>
              <p>Open FlickFuse in your browser and sign in once. Keep it pinned for one-click party launches.</p>
            </div>
            <div class="step">
              <div class="n">Step 2</div>
              <strong>Create Or Join A Room</strong>
              <p>Use room code or invite link. Hosts can run synchronized watch sessions with moderation controls.</p>
            </div>
            <div class="step">
              <div class="n">Step 3</div>
              <strong>Share Link, Watch In Sync</strong>
              <p>Drop your room link in Discord and everyone joins the same synced stream + party chat.</p>
            </div>
          </div>
        </div>

        <div class="panel">
          <h3>Quick Join</h3>
          <div class="join-box">
            <div class="join-row">
              <input id="roomCode" type="text" maxlength="16" placeholder="Enter room code (e.g. WATCH01)" />
              <a id="joinBtn" class="btn primary" href="/telewatch/">Join Room</a>
            </div>
            <a class="btn" href="/telewatch/?mainEvent=1">Join Main Event</a>
            <div id="statusLine" class="ok">Ready to join a party.</div>
          </div>
        </div>
      </div>
    </section>

    <section class="section">
      <h2>Install The Frenzy Extension</h2>
      <p>Use the browser extension for the fastest Teleparty-style flow: open a streaming tab, click extension, start party, share invite.</p>
      <div class="cta-row">
        <a class="btn primary" href="https://github.com/yesso12/Frenzynet/tree/main/browser-extension/frenzy-telewatch-extension" target="_blank" rel="noopener">Open Extension Files</a>
        <a class="btn" href="https://github.com/yesso12/Frenzynet" target="_blank" rel="noopener">View GitHub Repo</a>
      </div>
    </section>

    <section class="section">
      <h2>Built For Easy Group Watching</h2>
      <p>Everything is optimized for low-friction setup and extension-like flow so non-technical users can join fast.</p>
      <div class="cards">
        <article class="card">
          <h3>One-Link Invites</h3>
          <p>Create a room and share one invite in Discord. No complicated setup required for viewers.</p>
        </article>
        <article class="card">
          <h3>Host Controls</h3>
          <p>Hosts can coordinate playback, room access mode, and moderation from one dashboard.</p>
        </article>
        <article class="card">
          <h3>Party Chat + Voice</h3>
          <p>Use room chat with synced video while coordinating in your Discord voice channel.</p>
        </article>
      </div>
    </section>

    <section class="section">
      <h2>Live Public Rooms</h2>
      <p>Jump into active rooms now. If no rooms are active, start one and share your invite.</p>
      <div id="rooms" class="rooms"></div>
    </section>

    <section class="section">
      <h2>Pro Plans (Discord Purchase)</h2>
      <p>For Pro access, message a Frenzy Owner or Frenzy Admin in Discord. Staff applies access in Discord and website account.</p>
      <div class="plans">
        <article class="plan">
          <h3>Pro Monthly</h3>
          <div class="price">$4.99 / month</div>
          <a class="btn primary" href="https://discord.gg/4uRUSAN498" target="_blank" rel="noopener">Buy In Discord</a>
        </article>
        <article class="plan">
          <h3>Pro Annual</h3>
          <div class="price">$49.99 / year</div>
          <a class="btn primary" href="https://discord.gg/4uRUSAN498" target="_blank" rel="noopener">Buy In Discord</a>
        </article>
        <article class="plan">
          <h3>Pro Lifetime</h3>
          <div class="price">$129 one-time</div>
          <a class="btn primary" href="https://discord.gg/4uRUSAN498" target="_blank" rel="noopener">Buy In Discord</a>
        </article>
      </div>
    </section>

    <section class="section">
      <h2>FAQ</h2>
      <div class="faq">
        <details>
          <summary>Do users need the same streaming account?</summary>
          <p>Yes. FlickFuse syncs timing and playback controls. Each viewer uses their own streaming account/session.</p>
        </details>
        <details>
          <summary>Can I host from browser without desktop app?</summary>
          <p>Yes. Browser hosting works. Desktop app is optional for advanced usage and admin operations.</p>
        </details>
        <details>
          <summary>Where do I get purchase/billing help?</summary>
          <p>Open Discord and message a Frenzy Owner or Frenzy Admin for plan purchase, upgrades, and billing support.</p>
        </details>
      </div>
    </section>

    <footer class="footer">
      Â© 2026 FrenzyNets. FlickFuse is a FrenzyNets product. All rights reserved.
    </footer>
  </div>

  <script>
    (function() {
      const roomInput = document.getElementById('roomCode');
      const joinBtn = document.getElementById('joinBtn');
      const roomsEl = document.getElementById('rooms');
      const statusLine = document.getElementById('statusLine');
      const isAdmin = !!localStorage.getItem('fn_admin_token');

      document.querySelectorAll('.admin-only').forEach((el) => {
        if (isAdmin) el.classList.remove('hidden');
      });

      function cleanCode(v) {
        return String(v || '').toUpperCase().replace(/[^A-Z0-9_-]/g, '').slice(0, 16);
      }

      function syncJoinHref() {
        const code = cleanCode(roomInput.value);
        roomInput.value = code;
        joinBtn.href = code ? `/telewatch/?room=${encodeURIComponent(code)}` : '/telewatch/';
      }

      roomInput.addEventListener('input', syncJoinHref);
      syncJoinHref();

      const fallback = Array.from({ length: 8 }, (_, i) => {
        const code = `WATCH${String(i + 1).padStart(2, '0')}`;
        return {
          roomCode: code,
          title: `Public Room ${String(i + 1).padStart(2, '0')}`,
          activeCount: 0,
          joinUrl: `/telewatch/?room=${encodeURIComponent(code)}`
        };
      });

      function renderRooms(items) {
        const rows = Array.isArray(items) && items.length ? items : fallback;
        roomsEl.innerHTML = '';
        for (const room of rows.slice(0, 12)) {
          const code = cleanCode(room.roomCode || '');
          if (!code) continue;
          const title = String(room.title || 'Watch Party').slice(0, 64);
          const viewers = Number(room.activeCount || 0);
          const a = document.createElement('a');
          a.className = 'room';
          a.href = room.joinUrl || `/telewatch/?room=${encodeURIComponent(code)}`;
          a.innerHTML = `<strong>${code}</strong><small>${title}</small><small>${viewers} watching</small>`;
          roomsEl.appendChild(a);
        }
      }

      async function loadRooms() {
        const endpoints = [
          '/api/telewatch/api/public-rooms',
          '/api/telewatch/public-rooms'
        ];
        for (const url of endpoints) {
          try {
            const res = await fetch(url, { cache: 'no-store' });
            if (!res.ok) continue;
            const data = await res.json();
            const rooms = Array.isArray(data && data.rooms) ? data.rooms : [];
            renderRooms(rooms.map((r) => ({
              roomCode: r.roomCode,
              title: r.title,
              activeCount: r.activeCount,
              joinUrl: `/telewatch/?room=${encodeURIComponent(r.roomCode || '')}`
            })));
            statusLine.textContent = rooms.length
              ? `Loaded ${rooms.length} active public room${rooms.length === 1 ? '' : 's'}.`
              : 'No active rooms right now. Start one now.';
            return;
          } catch (_) {}
        }
        renderRooms([]);
        statusLine.textContent = 'Live room feed unavailable. You can still join by room code.';
      }

      loadRooms();
      setInterval(loadRooms, 45000);
    })();
  </script>
</body>
</html>
